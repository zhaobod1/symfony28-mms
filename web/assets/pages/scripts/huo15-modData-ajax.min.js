var TableDatatablesButtons=function(){var a=function(){$(".date-picker").datepicker({rtl:App.isRTL(),autoclose:!0});var a=new Datatable;a.init({src:$("#datatable_modData"),onSuccess:function(a,e){console.log("返回的response:"),console.log(),console.log(e)},onError:function(a){alert("服务器端出错,请联系管理员及时处理 ")},onDataLoad:function(a){},loadingMessage:"加载中...",dataTable:{bStateSave:!0,lengthMenu:[[2,3,5,10,20,50,100,150,-1],[2,3,5,10,20,50,100,150,"全部(慎用)"]],pageLength:10,ajax:{url:"/user/modDataAjax?moduleId="+huo15ModuleId+"&rand="+Math.random()},order:[[1,"asc"]],language:{sLengthMenu:"每页 _MENU_ 记录,",sInfo:" 从  _START_  到  _END_  ,总共  _TOTAL_   条记录"},buttons:[{extend:"print",className:"btn default"},{extend:"copy",className:"btn default"},{extend:"pdf",className:"btn default"},{extend:"excel",className:"btn default"},{extend:"csv",className:"btn default"},{text:"Reload",className:"btn default",action:function(a,e,t,n){e.ajax.reload(),alert("Datatable 重载!")}}]}}),a.getTableWrapper().on("click",".table-group-action-submit",function(e){e.preventDefault();var t=$(".table-group-action-input",a.getTableWrapper());""!=t.val()&&a.getSelectedRowsCount()>0?(a.setAjaxParam("customActionType","group_action"),a.setAjaxParam("customActionName",t.val()),a.setAjaxParam("id",a.getSelectedRows()),a.getDataTable().ajax.reload(),a.clearAjaxParams()):""==t.val()?App.alert({type:"danger",icon:"warning",message:"Please select an action",container:a.getTableWrapper(),place:"prepend"}):0===a.getSelectedRowsCount()&&App.alert({type:"danger",icon:"warning",message:"No record selected",container:a.getTableWrapper(),place:"prepend"})}),$("#datatable_ajax_tools > li > a.tool-action").on("click",function(){var e=$(this).attr("data-action");a.getDataTable().button(e).trigger()})};return{init:function(){jQuery().dataTable&&a()}}}();jQuery(document).ready(function(){TableDatatablesButtons.init()});